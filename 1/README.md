# Сучасні технології розробки WEB-застосувань з використанням мови Python

## Лабораторна робота №1

### Прохоренко Артем, ІО-23

---

## Тема
Використання фреймворку FastAPI та SQLAlchemy ORM для створення вебзастосунку мовою Python.

## Завдання
Для заданої предметної галузі розробити RESTfull API вебзастосунок:

1. Контент повинен генеруватися на сервері і у вигляді HTML відправляється на клієнт.
2. Дані мусять зберігатися у реляційній БД, наприклад, SQLite. Схема даних повинна містити щонайменша 3 сутності.
3. Для доступу до даних слід використовувати SQLAlchemy ORM.
4. Передбачити режими роботи акторів двох ролей: адміністратор та користувач.
5. Хоча б для однієї сутності реалізувати усі чотири CRUD-операції (create, read, update, delete).
6. Внести зміни в OpenAPI документацію за замовченням.

## Варіант
20. ІС «Планувальник задач»

## Основні можливості системи

### 1. Управління завданнями
- Створення нових завдань
- Редагування існуючих завдань
- Видалення завдань
- Перегляд списку завдань
- Зміна статусу завдань (очікує, в процесі, завершено)
- Встановлення пріоритету (низький, середній, високий)

### 2. Категорії завдань
- Створення категорій
- Призначення завдань до категорій
- Редагування категорій
- Видалення категорій

### 3. Управління користувачами
- Реєстрація користувачів
- Авторизація
- Різні рівні доступу (адміністратор/користувач)
- Редагування/видалення користувачів (з боку адміністраторів)

## Структура бази даних

Система використовує SQLite як реляційну базу даних з трьома основними сутностями:

### Таблиця users
- id (Integer, Primary Key)
- username (String, Unique)
- hashed_password (String)
- role (String) - 'admin' або 'user'

### Таблиця categories
- id (Integer, Primary Key)
- name (String, Unique)

### Таблиця tasks
- id (Integer, Primary Key)
- title (String)
- description (Text)
- status (String) - 'pending', 'in_progress', 'completed'
- priority (Integer) - 1 (низький), 3 (середній), 5 (високий)
- due_date (DateTime)
- user_id (Integer, Foreign Key -> users.id)
- category_id (Integer, Foreign Key -> categories.id)

## Структура проекту

```
app/                           # Коренева директорія проекту
├── main.py                    # Головний файл додатку, конфігурація FastAPI
├── database.py                # Налаштування підключення до бази даних
├── models.py                  # SQLAlchemy моделі для роботи з БД
├── schemas.py                 # Pydantic схеми для валідації даних
├── crud.py                    # CRUD операції для роботи з БД
├── auth.py                    # Методи автентифікації 
├── config.py                  # Конфігурація додатку
├── dependencies.py            # Залежності FastAPI (Depends)
├── routers/                   # Директорія з маршрутами API
│   ├── auth.py               # Роутери автентифікації
│   ├── users.py              # Маршрути для управління користувачами
│   ├── tasks.py              # Маршрути для управління завданнями
│   └── categories.py         # Маршрути для управління категоріями
├── templates/                 # Директорія з HTML шаблонами
│   ├── base.html             # Базовий шаблон з загальною структурою
│   ├── login.html            # Шаблон сторінки входу
│   ├── register.html         # Шаблон сторінки реєстрації
│   ├── tasks.html            # Шаблон сторінки управління завданнями
│   ├── categories.html       # Шаблон сторінки управління категоріями
│   └── users.html            # Шаблон сторінки управління користувачами
└── static/                    # Директорія зі статичними файлами
    ├── style.css             # CSS стилі для оформлення сторінок
    └── script.js             # JavaScript для динамічної взаємодії
```

## Відповідність вимогам завдання

### 1. Генерація HTML на сервері
✅ Реалізовано через шаблони Jinja2:
- Використання базового шаблону `base.html`
- Спеціалізовані шаблони для різних сторінок
- Динамічна генерація контенту

### 2. Реляційна БД
✅ Реалізовано через SQLite:
- Три основні сутності: users, categories, tasks
- Зв'язки між таблицями через зовнішні ключі
- Індекси для оптимізації запитів

### 3. Використання SQLAlchemy ORM
✅ Реалізовано:
- Моделі даних у `models.py`
- Відносини між моделями
- CRUD операції через ORM

### 4. Режими роботи для різних ролей
✅ Реалізовано:
- Розділення на адміністраторів та користувачів
- Різні права доступу
- Захищені маршрути

### 5. CRUD операції
✅ Реалізовано для всіх сутностей:

**User:**
- Create: реєстрація нових користувачів
- Read: перегляд списку користувачів
- Update: редагування даних користувача
- Delete: видалення користувача

**Category:**
- Create: створення нових категорій
- Read: перегляд списку категорій
- Update: редагування категорій
- Delete: видалення категорій

**Task:**
- Create: створення нових завдань
- Read: перегляд списку завдань
- Update: редагування завдань
- Delete: видалення завдань

### 6. OpenAPI документація
✅ Реалізовано:
- Кастомізовані описи ендпоінтів
- Групування маршрутів за тегами
- Детальні описи параметрів та відповідей

## Технічні особливості реалізації

**FastAPI:** асинхронна обробка запитів, автоматична валідація даних через Pydantic, вбудована підтримка OpenAPI.

**SQLAlchemy:** ORM для роботи з базою даних, відносини між моделями

**Безпека:** хешування паролів, JWT токеи для автентифікації, захищені маршрути

**Frontend**: Bootstrap для стилізації


## Висновок

В ході виконання лабораторної роботи було розроблено веб-додаток "Планувальник задач" з використанням FastAPI + SQLAlchemy. Система повністю відповідає всім вимогам завдання та надає зручний інтерфейс для управління завданнями.